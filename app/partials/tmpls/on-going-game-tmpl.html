<div class="current-game">
	<h3>Current Game: played at &quot;{{ game.location }}&quot; (# of players: {{ game.players.length }}).</h3>

	<uib-accordion class="settings-menu">
		<uib-accordion-group>
			<uib-accordion-heading>
				<i class="glyphicon glyphicon-tasks"></i> Game Preferences: Chip value - {{ game.settings.chipValue }}, Default buyin - {{ game.settings.defaultBuyin }}, Max buyin - {{ game.settings.maxBuyin }}
			</uib-accordion-heading>
			<form action="" class="form-inline row">
				<div class="form-group col-md-4">
					<label for="chipValue">Chip value:</label>
					<input class="form-control" type="range" min="1" step="1" max="400" id="chipValue" ng-model="game.settings.chipValue" />
				</div>
				<div class="form-group col-md-4">
					<label for="defaultBuyin">Default buyin:</label>
					<input class="form-control" type="number" min="50" step="50" id="defaultBuyin" ng-model="game.settings.defaultBuyin" />
				</div>
				<div class="form-group col-md-4">
					<label for="maxBuyin">Max buyin:</label>
					<input class="form-control" type="number" min="50" step="50" id="maxBuyin" ng-model="game.settings.maxBuyin" />
				</div>
			</form>
		</uib-accordion-group>
	</uib-accordion>

	<form class="form-inline" role="form">
		<div class="form-group input-group-sm">
			<label for="gameLocation">Playing at</label>
			<input id="gameLocation" type="text" ng-model="game.location" placeholder="Game Location" class="form-control" />
		</div>
		<div class="form-group">
			<label for="gameDate">on</label>
			<div class="input-group input-group-sm">
				<input id="gameDate" class="form-control" type="text" uib-datepicker-popup="yyyy-MM-dd" readonly="readonly" ng-model="game.date" datepicker-options="vm.dateOptions" is-open="game.dateOpen" show-weeks="false" />
				<span class="input-group-btn">
					<button type="button" class="btn btn-default" ng-click="vm.toggleGameDate($event)"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</div>
		</div>
		<div class="form-group">
			<label># of hands:</label>
			<div class="btn-group">
				<button class="btn btn-sm btn-success" ng-click="game.numberOfHands = game.numberOfHands + 1"><i class="glyphicon glyphicon-plus"></i>
				</button>
				<button class="btn btn-sm btn-default" style="width: 80px;">{{ game.numberOfHands }}</button>
				<button class="btn btn-sm btn-danger" ng-click="game.numberOfHands = game.numberOfHands - 1" ng-disabled="game.numberOfHands <= 0"><i class="glyphicon glyphicon-minus"></i>
				</button>
			</div>
		</div>
	</form>

	<!-- <button class="btn btn-default players-drawer-btn visible-xs" ng-click="vm.openPlayersControl()"><span class="glyphicon glyphicon-arrow-right"></span></button> -->

	<button class="btn btn-default" ng-click="vm.startGame()">Start game</button>

	<div class="row game-container">
		<div class="col-md-4 col-xs-6 fader" ng-repeat="player in game.players | orderBy:'name'">
			<player-card player="player"/>
		</div>
	</div>
	<ul class="nav nav-pills" role="tablist">
		<li role="presentation"><a href="">Total Buyin <span class="badge">{{ vm.totalBuyin() }}</span></a></li>
		<li role="presentation"><a href="">Total Chips <span class="badge">{{ vm.totalChips() }}</span></a></li>
		<li role="presentation"><a href="">Total Buyout <span class="badge">{{ vm.totalChips() / game.settings.chipValue }}</span></a></li>
		<li role="presentation"><a href="">Total Hosting <span class="badge">{{ vm.totalHosting() }}</span></a></li>
	</ul>
	<div class="row bg-info end-game-wrap">
		<div class="col-md-12">
			<button ng-click="vm.saveGame()" class="btn btn-block btn-primary" ng-disabled="(game.players.length <= 0) || vm.isGameInProgress()" analytics-on analytics-event="Save Game" analytics-category="Actions" analytics-label="{{ game.location }}"><i class="glyphicon glyphicon-download-alt"></i>&nbsp;End Game</button>
		</div>
	</div>

	<uib-accordion>
		<uib-accordion-group>
			<uib-accordion-heading>
				<i class="glyphicon glyphicon-trash"></i> Clear game
			</uib-accordion-heading>
			<hr/>
			<div class="row">
				<button class="btn btn-lg btn-danger btn-block" ng-click="vm.clearGame()">Clear Game</button>
			</div>
			<hr/>
		</uib-accordion-group>
	</uib-accordion>
</div>
